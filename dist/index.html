
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <title>Retusa GUI (demo)</title>
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.min.css" integrity="sha512-O03ntXoVqaGUTAeAmvQ2YSzkCvclZEcPQu1eqloPaHfJ5RuNGiS4l+3duaidD801P50J28EHyonCV06CUlTSag==" crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/bootstrap-table@1.21.2/dist/extensions/filter-control/bootstrap-table-filter-control.css"/>
    <!--link(href="https://unpkg.com/treeflex/dist/css/treeflex.css" rel="stylesheet")-->
    <link href="https://cdn.jsdelivr.net/npm/treeflex@2.0.1/dist/css/treeflex.min.css" rel="stylesheet"/>
    <link href="https://unpkg.com/multiple-select@1.5.2/dist/themes/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://unpkg.com/multiple-select@1.5.2/dist/multiple-select.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script type="text/javascript" src="c:/Users/Pavel/github/retusa/dist/bundle.min.js" charset="UTF-8"></script>
    <!--script(src="https://cdn.statically.io/gh/muzikp/retusa/main/dist/bundle.min.js")-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js" integrity="sha512-Zq9o+E00xhhR/7vJ49mxFNJ0KQw1E1TMWkPTxrWcnpfEFDEXgUiwJHIKit93EW/XxE31HSI5GEOW06G6BF1AtA==" crossorigin="anonymous" referrerpolicy="no-referrer">   </script>
    <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/locale/bootstrap-table-cs-CZ.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/extensions/filter-control/bootstrap-table-filter-control.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.2/dist/extensions/export/bootstrap-table-export.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin/tableExport.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin/libs/jsPDF/jspdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.2.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@sgratzl/chartjs-chart-boxplot@4.1.1/build/index.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.0/FileSaver.min.js" integrity="sha512-csNcFYJniKjJxRWRV1R7fvnXrycHP6qDR21mgz1ZP55xY5d+aHLfo9/FcGDQLfn2IfngbAHd8LdfsagcCqgTcQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script lang="javascript" src="https://cdn.sheetjs.com/xlsx-0.19.2/package/dist/xlsx.full.min.js"></script>
    <!--script(src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js")-->
    <script src="./addons.js"></script>
    <script src="./test-tables.js"></script>
    <script src="./source.js"></script>
    <script src="./index.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-light bg-light sticky-top" id="top"><a class="navbar-brand" href="#top"><img src="./media/retusa-logo-v1-main.png" height="50" alt="Retusa" style="margin: 10px 20px;"/></a></nav>
    <ul class="nav nav-tabs" id="workspace" role="tablist">
      <li class="nav-item" role="presentation" tab-target="source">
        <button class="nav-link active" id="source-tab" data-bs-toggle="tab" data-bs-target="#source-tab-pane" type="button" role="tab" aria-controls="source-tab-pane" aria-selected="true">Zdroje</button>
      </li>
      <li class="nav-item" role="presentation" tab-target="table">
        <button class="nav-link" id="table-tab" data-bs-toggle="tab" data-bs-target="#table-tab-pane" type="button" role="tab" aria-controls="table-tab-pane" aria-selected="false">Tabulka</button>
      </li>
      <li class="nav-item" role="presentation" tab-target="analysis">
        <button class="nav-link" id="analysis-tab" data-bs-toggle="tab" data-bs-target="#analysis-tab-pane" type="button" role="tab" aria-controls="analysis-tab-pane" aria-selected="false">Analýza</button>
      </li>
      <li class="nav-item" role="presentation" tab-target="output">
        <button class="nav-link" id="output-tab" data-bs-toggle="tab" data-bs-target="#output-tab-pane" type="button" role="tab" aria-controls="output-tab-pane" aria-selected="false">Výsledky</button>
      </li>
    </ul>
    <div class="tab-content" id="tabContent">
      <div class="tab-pane fade show active" id="source-tab-pane" role="tabpanel" aria-labelledby="source-tab" tabindex="0">
        <div class="source-container">
          <div class="buttons">
            <button class="btn btn-info" data-source-action="open">Otevřít</button>
            <button class="btn btn-success" data-source-action="save">Uložit</button>
            <button class="btn btn-warning" data-source-action="import">Importovat</button>
          </div>
          <hr/>
          <h5>Testovací datasety</h5>
          <div class="sample-sets">
            <button class="btn btn-info" data-test-dataset="genreg">Regrese</button>
            <button class="btn btn-success" data-test-dataset="muvslinreg">Regrese (MÚVS)</button>
            <button class="btn btn-success" data-test-dataset="anycorrel">Korelace</button>
            <button class="btn btn-info" data-test-dataset="anova2">ANOVA bez faktoru</button>
            <button class="btn btn-info" data-test-dataset="anova1">ANOVA s faktorem</button>
            <button class="btn btn-info" data-test-dataset="ttestind1">T-test nez. s faktorem</button>
            <button class="btn btn-info" data-test-dataset="ttestind2">T-test nez. bez faktoru</button>
          </div>
          <hr/>
          <h5>Makro</h5>
          <div class="sample-sets">
            <button class="btn btn-info" data-makro="genreg">Regrese</button>
            <button class="btn btn-success" data-makro="muvslinreg">Regrese (MÚVS)</button>
            <button class="btn btn-success" data-makro="anycorrel">Všechny korelace</button>
            <button class="btn btn-info" data-makro="anova2">ANOVA bez faktoru</button>
            <button class="btn btn-info" data-makro="anova1">ANOVA s faktorem</button>
            <button class="btn btn-info" data-makro="ttestind1">T-test nez. s faktorem</button>
            <button class="btn btn-info" data-makro="ttestind2">T-test nez. bez faktoru</button>
          </div>
          <div class="last-files"></div>
        </div>
      </div>
      <div class="tab-pane fade" id="table-tab-pane" role="tabpanel" aria-labelledby="table-tab" tabindex="0">
        <input class="form-control" id="table-name" type="text" maxLength="64" placeholder="název tabulky (nepovinné)"/>
        <div id="table" data-toolbar="#tabletoolbar" data-show-export="true" data-filter-control="true" data-filter-control-multiple-search="data-filter-control-multiple-search" data-show-search-clear-button="true" data-formatter="nullFormatter" data-ajax="matrixAJAX" data-side-pagination="server"></div>
      </div>
      <div class="tab-pane fade" id="analysis-tab-pane" role="tabpanel" aria-labelledby="analysis-tab" tabindex="0">
        <div class="tf-tree example" id="matrix-method-tree">
          <ul>
            <li><span class="analytic-group">
                <div class="analytics-header" style="background-color: salmon;">Zkoumání závislosti</div>
                <ul>
                  <li><span class="tf-nc" data-target="genreg"></span></li>
                  <li><span class="tf-nc tf-inter-node">Korelace</span>
                    <ul>
                      <li><span class="tf-nc tf-inter-node">Spojitá</span>
                        <ul>
                          <li><span class="tf-nc" data-target="correlPearson"></span></li>
                          <li><span class="tf-nc" data-target="correlPartial"></span></li>
                        </ul>
                      </li>
                      <li><span class="tf-nc tf-inter-node">Pořadová</span>
                        <ul>
                          <li><span class="tf-nc" data-target="correlSpearman"></span></li>
                          <li><span class="tf-nc" data-target="correlKendall"></span></li>
                        </ul>
                      </li>
                      <li><span class="tf-nc" data-target="correlBiserial"></span></li>
                    </ul>
                  </li>
                </ul></span></li>
          </ul>
          <ul>
            <li><span class="analytic-group">
                <div class="analytics-header" style="background-color: cadetblue;">Zkoumání rozdílů</div>
                <ul>
                  <li><span class="tf-nc tf-inter-node">Spojitá</span>
                    <ul>
                      <li><span class="tf-nc" data-target="anovaow"></span></li>
                      <li><span class="tf-nc" data-target="ttestind"></span></li>
                      <li><span class="tf-nc" data-target="ttestpair"></span></li>
                    </ul>
                    <li><span class="tf-nc tf-inter-node">Pořadová</span>
                      <ul>
                        <li><span class="tf-nc" data-target="mwu"></span></li>
                        <li><span class="tf-nc in-backlog">Kruskall-Wallisova ANOVA</span></li>
                        <li><span class="tf-nc in-backlog">Friedmanova ANOVA</span></li>
                      </ul>
                    </li>
                  </li>
                </ul></span></li>
          </ul>
          <ul>
            <li><span class="analytic-group">
                <div class="analytics-header" style="background-color: cadetblue;">Analýza nominálních dat</div>
                <ul>
                  <li><span class="tf-nc" data-target="contingency"></span></li>
                </ul></span></li>
          </ul>
        </div>
      </div>
      <div class="tab-pane fade" id="output-tab-pane" role="tabpanel" aria-labelledby="output-tab" tabindex="0">
        <div class="accordion-body col-12" id="output-container"></div>
      </div>
    </div>
    <div class="modal" id="modal_vector_analysis_form" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body"></div>
        </div>
      </div>
    </div>
    <div class="modal" id="modal_matrix_analysis_form" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body"></div>
        </div>
      </div>
    </div>
    <div class="modal" id="modal_xls_sheet_select" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Vyberte list</h5>
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="selector"></div>
            <div class="form-check form-switch">
              <input class="headers-in-first-row form-check-input" type="checkbox" role="switch"/>
              <label class="form-check-label">první sloupec tvoří záhlaví</label>
            </div>
          </div>
          <div class="modal-footer">
            <button class="confirm btn btn-primary" type="button">Další</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="modal_xls_vector_config" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Nastavení proměnných</h5>
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">   </div>
          <div class="modal-footer">
            <button class="prev btn btn-secondary" type="button">Zpět</button>
            <button class="confirm btn btn-primary" type="button">Dokončit</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal" id="modal_vector_config" tabindex="-1">
      <div class="modal-dialog">
        <form class="modal-content" id="vector-config" action="javascript:void(0)">
          <div class="modal-header">
            <h5 class="modal-title">Konfigurace proměnné</h5>
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label class="form-label">Název proměnné</label>
              <input class="form-control" type="text" name="name" required="required" placeholder="unikátní název"/>
            </div>
            <hr/>
            <div class="mb-3">
              <label class="form-label">Převést na</label>
              <div class="form-check">
                <input class="form-check-input" type="radio" data-type="1" name="type"/>
                <label class="form-check-label">numerickou proměnnou</label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" data-type="2" name="type"/>
                <label class="form-check-label">textovou proměnnou</label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" data-type="3" name="type"/>
                <label class="form-check-label">binární proměnnou</label>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="confirm btn btn-primary" type="submit">Potvrdit</button>
          </div>
        </form>
      </div>
    </div>
    <div class="modal" id="modal_vector_filter" tabindex="-1">
      <div class="modal-dialog">
        <form class="modal-content" id="vector-filter" action="javascript:void(0)">
          <div class="modal-header">
            <h5 class="modal-title">Filtr proměnné</h5>
            <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="selectable-filters">
              <div class="mb-3">
                <label class="form-label">Vyberte hodnoty</label>
                <select class="form-select" name="filter" multiple="multiple" data-filter-type="select"></select>
              </div>
            </div>
            <div class="numeric-filters">
              <div class="mb-3">
                <label class="form-label" title="pokud je zároveň vyplněna hodnota 'větší než rovno', budere se jako přednostní ona">větší než</label>
                <input class="form-control" name="greater" type="number"/>
              </div>
              <div class="mb-3">
                <label class="form-label" title="pokud je zároveň vyplněna hodnota 'větší', nevadí, bude ignorována">větší než nebo rovno</label>
                <input class="form-control" name="grequal" type="number"/>
              </div>
              <div class="mb-3">
                <hr/>
              </div>
              <div class="mb-3">
                <label class="form-label">menší než</label>
                <input class="form-control" name="less" type="number"/>
              </div>
              <div class="mb-3">
                <label class="form-label">menší než nebo rovno</label>
                <input class="form-control" name="lessqual" type="number"/>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button class="btn btn-secondary" type="submit" data-action="clear">Zrušit filtrování</button>
            <button class="btn btn-primary" type="submit" data-action="confirm">Potvrdit</button>
          </div>
        </form>
      </div>
    </div>
  </body>
  <style>
    .form-control-required:before {
      color: red;
      margin-right: 0.2rem;
      content: "*"
    }
    .form-control-tooltip:after {
      color: blue;
      content: "👁️‍🗨️",
      margin-left: 0.5rem;
    }
    .close-card {
      display: flex;
      justify-content: space-between;
    }
    .card-header {
      display: flex;
      justify-content: space-between;
      align-content: center;
    }
    .card {
      margin-top: 0.5rem;
    }
    .sample-info, .parameter-info {
      padding: 10px 20px;
      margin: 10px 0px;
      border: lightgray 1px solid;
      border-radius: 5px;
      font-size: 0.9rem;
    }
    th[data-field] {
        /*background-color: lightgray;*/
    }
    .bt-header-btn-panel {
        display: flex;
        border-bottom: solid black 1px;
        justify-content: flex-end;
        padd    ing: 10px 0px;
    
    }
    .bt-header-icon {
        padding: 0px;
        margin: 0px;
    }
    td[_title]:after {
        content: "💡";
    }
    .box-header {
      color: black;
      margin: 5px 0;
      background-color: lightskyblue;
      font-weight: 600;
      padding: 5px 10px;
      text-align: center;
      width: fit-content;
      border-radius: 7px;
    }
    .canvas-layout .title {
      margin-top: 10px;
    }
    .tab-pane {
      padding: 2%;
    }
    .result-addon-table-container {
      margin: 1rem 0px;
    }
    .result-addon-table-container .table-title {
        font-size: 1.2rem;
        font-weight: 600;
        margin: 3rem 0px 3rem 0px;
        width: 100%;
        padding: 5px;
        text-align: center;
        background-color: lightblue;
        border-radius: 10px;
    }
    .method-title {
      font-size: 1.5rem;
      font-weight: 600;
      font-variant: all-small-caps;
    }
    .argument-badge-panel {
      display: flex;
    }
    .argument-badge {
      font-family: monospace;
      background-color: lightsteelblue;
      padding: 5px;
      border-radius: 5px;
      margin-left: 10px;
      line-height: 2;
    }
    .duration {
      font-family: monospace;
      font-size: 0.8rem;
      display: flex;
      justify-content: flex-end;
      margin-top: 5px;
    }
    .analytic-group {
      text-align: center;
      /*border: lightgray solid 1px;*/
      border-radius: 10px;
      font-weight: 600;
      padding-top: 20;
    }
    .analytics-header {
      font-size: 1.8rem;
      font-weight: 600;
      border-radius: 10px;
      width: fit-content;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 2rem;
      padding: 0% 2rem;
    }
    .tf-inter-node {
      font-style: italic !important;
      background-color: lightgray !important;
      border-radius: 50% !important;
    }
    .in-backlog {
      font-style: italic;
      font-weight: 100;
      color: brown;
      border: dashed 1px brown !important;
    }
    .context-menu {
      display: none;
      position: absolute;
    }
    th {
      z-index: 100 !important;
    }
    [data-matrix-form-args-submit] {
      width: 100%;
    }
    .dropdown-submenu {
      position:relative;
    }
    .dropdown-submenu > .dropdown-menu {
        top: 0;
        left: 100%;
        margin-top:-6px;
    }
    
    /* rotate caret on hover */
    .dropdown-menu > li > a:hover:after {
        text-decoration: underline;
        transform: rotate(-90deg);
    } 
    [data-vector-analysis-trigger], .dropdown-item-button {
      padding: 0px;
    }
    .dropdown:hover>.dropdown-menu {
      display: block;
      left: 100%;
      bottom: -50%;
      margin-right: 10px;
    }
    .dropdown-item:hover>.dropdown-menu {
      display: block;
    }
    ul li{
      list-style-type:none;
      display: inline;
    }
    .navbar-nav .nav-link{display:inline-block;}
    .ml-auto {display:inline-block!important;}
    .dropdown>.dropdown-toggle:active {
      pointer-events: none;
    }
    .context-menu-header {
      font-weight: 600;
      dark-blue;
      padding-left: 10px;
      color: gray;
    }
    .th-numeric {
      background-color: lightblue !important;
    }
    .th-string {
      background-color: lightgreen !important;
    }
    .th-boolean {
      background-color: lightbrown !important;
    }
    [data-filter]:before {
      content: "🌪️" !important;,
      margin-right: 5px !important;
    }
    th {
      diplay: flex !important;
    }
  </style>
</html>